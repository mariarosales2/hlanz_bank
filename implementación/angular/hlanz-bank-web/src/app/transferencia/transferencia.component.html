<div class="contenedor" fxLayoutAlign="center" fxLayout="column">
    <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    <h3>Transferencia</h3>
    <form ngNativeValidate (ngSubmit)="transferir()">
        <div class="row">
            <div class="form-group col-lg-6 col-12">
                <label>Origen</label>
                <mat-select class="form-control" name="idCuenta" required
                [(ngModel)]="transferencia.cuentaEmisora.idCuenta">
                    <mat-option [value]="cuenta.idCuenta" *ngFor="let cuenta of cuentasUsuario" required>
                        {{cuenta.numero}}
                    </mat-option>
                </mat-select>
            </div>
            <div class="form-group col-lg-6 col-12">
                <label for="cuenta">IBAN</label>
                <input type="text" class="form-control" 
                        id="cuenta" aria-describedby="help" 
                        maxlength="20" required matInput
                        [(ngModel)]="transferencia.cuentaReceptora.numero"
                        value="ES" name="cuentaReceptora"
                        pattern="([A-Z]{2})([0-9]{18})">
                <small id="help" class="form-text text-muted">Introduce el IBAN sin espacios.</small>
            </div>
        </div>

        <div class="row">
            <div class="form-group" class="col-lg-6 col-12">
                <label for="concepto">Concepto</label>
                <input type="text" class="form-control" id="concepto" required
                [(ngModel)]="transferencia.concepto" name="concepto">
            </div>

            <div class="col-lg-6 col-12">
                <label for="importe">Importe</label>
                <div class="form-group input-group">
                    <input type="number" class="form-control" id="importe" [(ngModel)]="transferencia.movimiento" 
                    name="movimiento" required>
                    <div class="input-group-append" fxLayoutAlign="end">
                        <span class="input-group-text">€</span>
                    </div>
                </div>
            </div> 
        </div>
        <div class="row">
            <div class="col-12 pt-3 pb-3">
                <mat-checkbox color="primary" id="check" required [checked]="acept">
                    Acepto los <span (click)="openTerminos()">términos y condiciones de uso</span>
                </mat-checkbox>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" fxLayoutAlign="end">Enviar</button>
    </form>
</div>